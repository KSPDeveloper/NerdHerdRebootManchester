{"version":3,"sources":["../../src/direction/useDirection.tsx","../../src/constants.ts"],"names":["useEffect","useState","addons","ADDON_ID","COLOR_MODE_TOOL_ID","DIRECTION_TOOL_ID","EVENTS","useDirection","initialDirection","direction","setDirection","channel","callback","value"],"mappings":"AAAA,OAAS,aAAAA,EAAW,YAAAC,MAAgB,QACpC,OAAS,UAAAC,MAAc,yBCDhB,IAAMC,EAAW,6BACXC,EAAqB,GAAGD,oBACxBE,EAAoB,GAAGF,mBAEvBG,EAAS,CACpB,kBAAmB,GAAGH,oBACtB,iBAAkB,GAAGA,mBACvB,EDAO,IAAMI,EAAe,CAACC,EAAkC,QAAU,CACvE,GAAM,CAACC,EAAWC,CAAY,EAAIT,EAASO,EAAiB,YAAY,CAAC,EAEzE,OAAAR,EAAU,IAAM,CACd,SAAS,gBAAgB,IAAMS,CACjC,EAAG,CAACA,CAAS,CAAC,EAEdT,EAAU,IAAM,CACd,IAAMW,EAAUT,EAAO,WAAW,EAC5BU,EAAYC,GAAkBH,EAAaG,CAAK,EACtD,OAAAF,EAAQ,GAAGL,EAAO,iBAAkBM,CAAQ,EACrC,IAAM,CACXD,EAAQ,eAAeL,EAAO,iBAAkBM,CAAQ,CAC1D,CACF,EAAG,CAACF,CAAY,CAAC,EAEVD,CACT","sourcesContent":["import { useEffect, useState } from \"react\"\nimport { addons } from \"@storybook/preview-api\"\nimport { EVENTS } from \"../constants\"\n\n/**\n * Sync the layout direction to the html element\n */\nexport const useDirection = (initialDirection: \"ltr\" | \"rtl\" = \"ltr\") => {\n  const [direction, setDirection] = useState(initialDirection.toLowerCase())\n\n  useEffect(() => {\n    document.documentElement.dir = direction\n  }, [direction])\n\n  useEffect(() => {\n    const channel = addons.getChannel()\n    const callback = (value: string) => setDirection(value)\n    channel.on(EVENTS.TOGGLE_DIRECTION, callback)\n    return () => {\n      channel.removeListener(EVENTS.TOGGLE_DIRECTION, callback)\n    }\n  }, [setDirection])\n\n  return direction\n}\n","export const ADDON_ID = \"@chakra-ui/storybook-addon\"\nexport const COLOR_MODE_TOOL_ID = `${ADDON_ID}/color-mode-tool`\nexport const DIRECTION_TOOL_ID = `${ADDON_ID}/direction-tool`\n\nexport const EVENTS = {\n  TOGGLE_COLOR_MODE: `${ADDON_ID}/toggleColorMode`,\n  TOGGLE_DIRECTION: `${ADDON_ID}/toggleDirection`,\n}\n"]}